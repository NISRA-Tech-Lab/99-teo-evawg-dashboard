/* ================================
   Core variables
==================================*/
:root{
  --brand-blue-dark:#00205b;
  --brand-blue-mid:#007acc;
  --brand-blue:#1a6ecc;
  --text-on-blue:#fff;
  --text-default:#1a1a1a;
  --muted-border:#dee2e6;
  --success:#0f8243;
  --gray-600:#6d6e72;

  --grid-gap:14px;
  --tile-w:260px;
  --sub-rect-h:48px;
}

/* ================================
   Global layout
==================================*/
html,body{color:var(--text-default);margin:0}
html,body{height:100%}
body{min-height:100vh;display:flex;flex-direction:column}
#quarto-content,main,.page-columns{flex:1 0 auto}

/* ================================
   Custom Top Header
==================================*/
#custom-site-header.custom-site-header{
  background:#00205b !important;
  color:#fff !important;
  border-bottom:4px solid var(--brand-blue-mid);
  width:100%;
}
.custom-site-header__inner{
  width:100% !important;
  max-width:1200px !important;
  margin:0 auto !important;
  padding:12px 16px !important;
  display:grid !important;
  grid-template-columns:auto 1fr auto !important;
  align-items:center !important;
  gap:12px !important;
  box-sizing:border-box !important;
  text-align:center !important;
}
.custom-site-header__title{
  grid-column:2 !important;
  margin:0 !important;
  text-align:center !important;
  color:#fff !important;
  font-size:clamp(1.3rem,3vw,2rem) !important;
  font-weight:700 !important;
  line-height:1.2 !important;
}
.custom-site-header__logo{
  display:block !important;
  max-height:52px !important;
  width:auto !important;
}
.custom-site-header__logo--left{ grid-column:1 !important; justify-self:start !important; }
.custom-site-header__logo--right{ grid-column:3 !important; justify-self:end !important; }

/* Mobile Header */
@media (max-width:640px){
  .custom-site-header__inner{
    grid-template-columns:1fr !important;
    gap:8px !important;
    padding:12px !important;
  }
  .custom-site-header__logo{ justify-self:center !important; max-height:40px !important; }
  .custom-site-header__title{ grid-column:1 !important; }
}

/* ================================
   Navbar
==================================*/
#quarto-header .navbar,
#quarto-header .navbar.bg-primary,
.navbar.bg-primary,
.navbar.navbar-expand-lg{
  background:#00205b !important;
  background-image:none !important;
}
#quarto-header .navbar-brand{ display:none !important; }

.navbar .nav-link{ color:var(--text-on-blue) !important; font-size:17px; }
.navbar-nav .nav-link.active{
  background:var(--brand-blue-mid);
  color:var(--text-on-blue) !important;
  font-weight:600; border-radius:4px;
}
.navbar .nav-link:hover,
.navbar .nav-link:focus,
.navbar-nav .nav-link.active:hover{
  color:#e6f2ff !important; background:#00205b; border-radius:4px;
}

/* ================================
   Cards / Titles
==================================*/
div.chart-title{
  font-size:17px; background:var(--brand-blue);
  color:var(--text-on-blue); padding:5px 10px; border-radius:4px;
}
.card-header,.chart-title-container{ background:var(--brand-blue); color:var(--text-on-blue); }
.card-header .nav-tabs,.chart-title-container .nav-tabs{ border-bottom-color:transparent; }

.card-header .nav-tabs .nav-link,
.chart-title-container .nav-tabs .nav-link{ color:var(--text-on-blue) !important; font-size:17px; }
.card-header .nav-tabs .nav-link:hover,
.chart-title-container .nav-tabs .nav-link:hover{ color:#e6f2ff !important; }
.card-header .nav-tabs .nav-link.active,
.chart-title-container .nav-tabs .nav-link.active{
  background:#fff !important; color:var(--brand-blue) !important;
  border-color:var(--muted-border) var(--muted-border) #fff !important; font-weight:600;
}
.nav-tabs .nav-link{ color:var(--text-default); font-size:17px; }
.nav-tabs .nav-link:hover,.nav-tabs .nav-link:focus{ color:var(--brand-blue-mid); }
.nav-tabs .nav-link.active{
  color:var(--brand-blue-mid); background:#fff;
  border-color:var(--muted-border) var(--muted-border) #fff; font-weight:600;
}

/* ================================
   Charts / Tables
==================================*/
div.chart-shim.bootstrap-table.flowing-content-shim{ font-size:16px; }
div.chart-stage.chartstage-flex{ font-size:16px; }

/* ================================
   Remove dashboard strip
==================================*/
#quarto-dashboard-header{ display:none !important; }

/* ================================
   Cookie banner
==================================*/
#cookie-banner{
  position:fixed; top:0; left:0; width:100%;
  background:rgba(26,25,68,0.95); color:#fff; padding:10px; text-align:left;
  border-bottom:5px solid #3878c5; z-index:2000;
}

/* ================================
   Home grid
==================================*/
#nisra-grid{
  display:grid !important;
  grid-template-columns:repeat(4, minmax(0, 1fr)) !important;
  gap:var(--grid-gap) !important;
  justify-items:center !important; align-items:start !important;
  width:100% !important; margin:20px 0 !important; box-sizing:border-box; position:relative;
}
#nisra-grid .tile-group{
  display:flex !important; flex-direction:column !important; align-items:center !important;
  gap:8px !important; width:var(--tile-w) !important; max-width:100% !important; box-sizing:border-box !important;
}
#nisra-grid .tile{
  width:100% !important; aspect-ratio:1/1 !important; border:2px solid #00205b; border-radius:8px;
  background:#f5f9ff; color:#00205b; font-weight:600; display:flex; align-items:center; justify-content:center;
  text-align:center; font-size:clamp(0.9rem,1.2vw,1.1rem); padding:10px; box-sizing:border-box;
}
#nisra-grid .wide-rect{
  width:100% !important;
  grid-column:span 2 !important;
  min-height:calc(var(--sub-rect-h) * 2) !important;
  border:1.5px solid #00205b; border-radius:6px; color:#fff; font-weight:600;
  display:flex; align-items:center; justify-content:center; text-align:center; padding:12px; box-sizing:border-box;
  transition:background-color .25s, transform .15s; text-decoration:none;
}
#nisra-grid .wide-rect.left  { background:#3878c5; }
#nisra-grid .wide-rect.right { background:#68a41e; }
#nisra-grid .wide-rect.left:hover  { background:#2d64a3; transform:translateY(-2px); cursor:pointer; }
#nisra-grid .wide-rect.right:hover { background:#558718; transform:translateY(-2px); cursor:pointer; }
@media (min-width:901px){
  #nisra-grid .wide-rect.left  { grid-column:1 / span 2 !important; }
  #nisra-grid .wide-rect.right { grid-column:3 / span 2 !important; }
}
#nisra-grid .sub-tile, .sub-tile{
  width:100% !important;
  min-height:var(--sub-rect-h);
  border:1.5px solid #00205b;
  border-radius:6px;
  background:#fff;
  color:#00205b;
  text-align:center;
  font-weight:500;
  padding:8px;
  font-size:clamp(0.9rem,1vw,1rem);
  white-space:nowrap; overflow:hidden; text-overflow:ellipsis;
  display:flex; align-items:center; justify-content:center;
  transition:background-color .25s, color .25s, transform .15s;
  text-decoration:none;
}
#nisra-grid .sub-tile:hover, .sub-tile:hover{
  background:#732777; color:#fff; transform:translateY(-1.5px); cursor:pointer;
}
@media (max-width:900px){
  #nisra-grid{ grid-template-columns:repeat(2, minmax(0,1fr)) !important; }
  #nisra-grid .tile-group{ width:300px !important; }
  #nisra-grid .wide-rect{ grid-column:1 / -1 !important; }
}
@media (max-width:600px){
  #nisra-grid{ grid-template-columns:1fr !important; gap:12px !important; }
  #nisra-grid .tile-group{ width:min(90vw,360px) !important; }
  #nisra-grid .wide-rect{ grid-column:1 / -1 !important; }
}

/* ================================
   Footer
==================================*/
#site-footer{
  background:#00205b; color:#fff; text-align:center; padding:15px 10px; font-size:16px;
  margin-top:40px; border-top:4px solid var(--brand-blue-mid);
}
#site-footer .footer-content p{margin:0;line-height:1.5}

body.nav-fixed { padding-top: 0 !important; }
#quarto-header,
#quarto-header .navbar,
.navbar.fixed-top,
.navbar.navbar-expand-lg.fixed-top,
.navbar.bg-primary.fixed-top {
  position: static !important;
  top: auto !important;
  inset: auto !important;
  z-index: 100 !important;
}
#custom-site-header { z-index: 150 !important; position: relative; }

/* ================================
   Key Figure Boxes + Toggle Switch
==================================*/

/* Toggle switch styling */
.sex-toggle {
  display:flex;
  align-items:center;
  gap:10px;
  font-weight:600;
  font-size:16px;
  color:var(--text-default);
  justify-content:flex-end;
}
.sex-toggle input[type="checkbox"] { display:none; }
.switch {
  position:relative;
  display:inline-block;
  width:46px;
  height:24px;
}
.switch::before {
  content:"";
  position:absolute;
  inset:0;
  background-color:#ccc;
  border-radius:24px;
  transition:background-color 0.25s;
}
.switch::after {
  content:"";
  position:absolute;
  top:3px;
  left:3px;
  width:18px;
  height:18px;
  border-radius:50%;
  background-color:#fff;
  transition:transform 0.25s;
}
.sex-toggle input:checked + .switch::before { background-color:var(--brand-blue-mid); }
.sex-toggle input:checked + .switch::after { transform:translateX(22px); }

/* Male visibility */
.male-hidden .male-data { display:none !important; }

/* Compact layout when male data hidden */
.male-hidden .key-figure-strip .has-male{
  justify-content:center;
  gap:10px;
  padding-top:16px;
  padding-bottom:16px;
}
.male-hidden .key-figure-strip .has-male .kf-head{
  font-size:clamp(1.6rem,2.6vw,2.1rem);
  margin-bottom:2px;
}
.male-hidden .key-figure-strip .has-male .kf-foot{ margin-top:0; }

/* Wrapper for section */
.key-figure-wrapper{
  width:100%;
  max-width:1200px;
  margin:10px auto 16px;
  padding:0 12px;
  box-sizing:border-box;
}

/* Toggle above, right-aligned */
.key-figure-wrapper .sex-toggle{
  margin:0 0 10px 0;
  justify-content:flex-end;
}

/* Four equal-width boxes grid */
.key-figure-strip{
  display:grid;
  grid-template-columns:repeat(4,1fr);
  gap:var(--grid-gap);
  align-items:stretch;
}

/* Box appearance and auto height */
.key-figure-strip .key-figure-box{
  width:100%;
  min-height:calc(var(--tile-w) * 2 / 3);
  height:auto;
  border:2px solid var(--brand-blue-dark);
  border-radius:8px;
  background:#f5f9ff;
  color:#00205b;
  font-weight:600;
  display:flex;
  flex-direction:column;
  justify-content:space-between;
  text-align:center;
  font-size:clamp(0.9rem,1.05vw,1.1rem);
  padding:12px;
  box-sizing:border-box;
}

/* ================================
   Text hierarchy inside boxes
==================================*/

/* Big purple headline (women) */
.kf-head{
  color:#732777;
  font-weight:800;
  font-size:clamp(1.6rem,2.6vw,2.2rem);
  line-height:1.1;
  margin-bottom:4px;
}

/* Dual headline for two same-size stats (box 3) */
.kf-dual{
  color:#732777;
  font-weight:750;
  font-size:clamp(1.2rem,2vw,1.6rem); /* â†“ smaller at all screen sizes */
  line-height:1.15;
  margin:2px 0;
}

/* Male figure (slightly smaller than female) */
.kf-male{
  color:var(--brand-blue);
  font-weight:700;
  font-size:clamp(1.3rem,2vw,1.6rem);
  line-height:1.15;
  margin:3px 0;
}

/* Descriptor text */
.kf-foot{
  color:var(--text-default);
  font-weight:600;
  font-size:clamp(0.95rem,1vw,1.05rem);
  line-height:1.25;
  margin-top:auto;
}

/* Allow text wrapping */
.kf-head, .kf-dual, .kf-male, .kf-foot {
  white-space:normal;
  word-break:break-word;
}

/* Responsive: 2-column then 1-column */
@media (max-width:980px){
  .key-figure-strip{ grid-template-columns:repeat(2,1fr); }
}
@media (max-width:520px){
  .key-figure-strip{ grid-template-columns:1fr; }
}

/* ========================================
   Center content vertically in boxes
   that have no male-data line
======================================== */
.key-figure-box:not(.has-male){
  justify-content:center;
}

/* optional fine-tune: give equal spacing between lines */
.key-figure-box:not(.has-male) .kf-head{
  margin-bottom:6px;
}
.key-figure-box:not(.has-male) .kf-foot{
  margin-top:0;
}

/* ========================================
"Definition" and "What does it mean?" boxes
======================================== */
.accordion-button {
  background-color: var(--brand-blue-dark);
  color: #fff;
  font-weight: 600;
}
.accordion-button.collapsed {
  background-color: var(--brand-blue-mid);
}
.accordion-body {
  background: #f5f9ff;
  color: var(--text-default);
}
/* Remove anchor link icons from accordion headings */
.accordion .anchorjs-link {
  display: none !important;
}