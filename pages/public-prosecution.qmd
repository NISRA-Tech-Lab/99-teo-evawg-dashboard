---
title: "public_prosecution"
---



```{r}
#| include: FALSE

library(here)
source(paste0(here(), "/data_prep/pps_data_prep.R"))
```

## Row

### Column {width=50%}


```{r}
#| title: Median time taken for cases to be dealt with at courts by offence type
#| fig-height: 10

# Define reversed order
offence_order <- rev(pps_chart3_data$offence)

# Plot the chart with y-axis annotation
plot_ly(
  data = pps_chart3_data,
  x = ~days,
  y = ~offence,
  type = 'bar',
  orientation = 'h',
  text = ~hover_text,
  hoverinfo = 'text',
  textposition = 'none',
  marker = list(color = '#005EB8')
) %>%
layout(
  title = "",
  xaxis = list(title = "Days"),
  yaxis = list(
    title = list(text = ""),  
    categoryorder = "array",
    categoryarray = offence_order
),
  annotations = list(
    list(
      x = -0.01,
      xref = "paper",
      xanchor = "center",
      y = 1.025,
      yref = "paper",
      yanchor = "bottom",
      text = "Offence",
      showarrow = FALSE,
      font = list(size = 14)
    )
  ),
  font = list(family = "Arial", size = 12),
  margin = list(l = 150, t = 80)
) %>%
  config(displayModeBar = FALSE)

```
